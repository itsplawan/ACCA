---
layout: default
title: Repository Files
---

<h2>Files from GitHub Repository</h2>
<ul id="file-list">Loading...</ul>

<div id="pdf-container" style="display:none;">
    <iframe id="pdf-viewer" src="" width="100%" height="600px" style="border: none;"></iframe>
</div>

<script>
  const repoOwner = "itsplawan";  // Replace with your GitHub username
  const repoName = "ACCA";        // Replace with your repository name
  const baseURL = "https://raw.githubusercontent.com/itsplawan/ACCA/main/pdfs/";  // Replace with the correct folder URL for PDFs

  async function fetchRepoContents() {
      const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/`;
      const response = await fetch(apiUrl);
      const data = await response.json();
      const fileList = document.getElementById("file-list");
      fileList.innerHTML = "";

      data.forEach(item => {
          // Skip the index.html, build, and web directories
          if (item.name === "index.html" || item.name === "build" || item.name === "web") {
              return;
          }

          const listItem = document.createElement("li");
          const link = document.createElement("a");

          const fileURL = `${baseURL}${item.path}`;

          link.href = fileURL;
          link.textContent = item.name;

          // Open PDF files in the viewer
          if (item.name.endsWith(".pdf")) {
              link.addEventListener("click", function (event) {
                  event.preventDefault();
                  loadPDF(fileURL); // Load the PDF into the viewer
              });
          } else {
              link.target = "_self";  // For other files, open in the same window
          }

          listItem.appendChild(link);
          fileList.appendChild(listItem);
      });
  }

  function loadPDF(url) {
      // PDF.js viewer requires the full path to the PDF as the 'file' parameter
      const viewerUrl = `https://mozilla.github.io/pdf.js/web/viewer.html?file=${encodeURIComponent(url)}`;
      const pdfContainer = document.getElementById("pdf-container");

      pdfContainer.style.display = "block";  // Show the PDF viewer
      document.getElementById("pdf-viewer").src = viewerUrl;
  }

  fetchRepoContents();
</script>
